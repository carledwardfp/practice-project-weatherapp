{"version":3,"sources":["components/Details.js","components/Header.js","components/NextDays.js","App.js","index.js"],"names":["Details","sign","temp","weather","icon","className","src","alt","Math","abs","round","d","Date","day","getDay","date","getDate","month","getMonth","Header","city","country","days","day2","day3","day4","day5","NextDays","cityName","useState","dayTwo","setDayTwo","dayThree","setDayThree","dayFour","setDayFour","dayFive","setDayFive","useEffect","a","url","axios","get","res","data","list","fetchAPI","main","App","setData","setCity","setCountry","setTemp","weatherDesc","setWeatherDesc","weatherMain","setWeatherMain","isLoading","setIsLoading","openSettings","setOpenSettings","setIcon","value","setValue","setCityName","ref","useRef","name","sys","description","localStorage","getItem","dayOrNight","hour","getHours","iClassName","divClassName","background","process","style","backgroundImage","onClick","current","focus","type","placeholder","onChange","e","target","width","height","border","ontSize","outline","textAlign","margin","fontSize","color","backgroundColor","preventDefault","setItem","borderRadius","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.015ea23d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Details.css\";\r\n\r\nfunction Details({ temp, weather, icon }) {\r\n  let sign;\r\n  temp < 0 ? (sign = \"negative negative-show\") : (sign = \"negative\");\r\n\r\n  return (\r\n    <div className=\"tempNweather\">\r\n      <div className=\"w-icon\">\r\n        <img src={icon} alt={weather} />\r\n      </div>\r\n      <div className=\"weather\">{weather}</div>\r\n      <div className=\"temperature\">\r\n        <p className={sign}>-</p>\r\n        {temp < 10 && temp > 0\r\n          ? \"0\" + Math.abs(Math.round(temp))\r\n          : Math.abs(Math.round(temp))}\r\n        <p>&#176;</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Details;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\n\r\n/* FOR DATE START */\r\nconst d = new Date();\r\nconst days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\nconst day = days[d.getDay()];\r\nconst date = d.getDate();\r\nconst months = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\nconst month = months[d.getMonth()];\r\n/* FOR DATE END */\r\n\r\nfunction Header({ city, country }) {\r\n  return (\r\n    <header>\r\n      <nav>\r\n        <div className=\"city\">\r\n          {city}, {country}\r\n        </div>\r\n      </nav>\r\n      <div className=\"date\">\r\n        {day}, {date} {month}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./NextDays.css\";\r\n\r\nconst d = new Date();\r\nconst days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\nconst day2 = days[(d.getDay() + 1) % 7];\r\nconst day3 = days[(d.getDay() + 2) % 7];\r\nconst day4 = days[(d.getDay() + 3) % 7];\r\nconst day5 = days[(d.getDay() + 4) % 7];\r\n\r\nconst NextDays = ({ cityName }) => {\r\n  const [dayTwo, setDayTwo] = useState(\"\");\r\n  const [dayThree, setDayThree] = useState(\"\");\r\n  const [dayFour, setDayFour] = useState(\"\");\r\n  const [dayFive, setDayFive] = useState(\"\");\r\n  // const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchAPI = async () => {\r\n      const CITY = cityName !== \"\" ? cityName : \"Manila\";\r\n      const API_KEY = \"9b463ab5faf898bca815b6b53d424a9d\";\r\n      const url = `https://api.openweathermap.org/data/2.5/forecast?q=${CITY}&appid=${API_KEY}&units=metric`;\r\n\r\n      try {\r\n        const res = await axios.get(url);\r\n        setDayTwo(res.data.list[8]);\r\n        setDayThree(res.data.list[16]);\r\n        setDayFour(res.data.list[24]);\r\n        setDayFive(res.data.list[32]);\r\n        // setIsLoading(false);\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    };\r\n    fetchAPI();\r\n  }, [cityName]);\r\n\r\n  return (\r\n    <div className=\"nextdays-list\">\r\n      <ul>\r\n        <li className=\"next-days\">\r\n          <div className=\"nd-date\">{day2}</div>\r\n          <div className=\"nd-temp\">{Math.round(dayTwo.main.temp)}</div>\r\n          <div className=\"nd-weather\">{dayTwo.weather[0].main}</div>\r\n        </li>\r\n\r\n        <li className=\"next-days\">\r\n          <div className=\"nd-date\">{day3}</div>\r\n          <div className=\"nd-temp\">{Math.round(dayThree.main.temp)}</div>\r\n          <div className=\"nd-weather\">{dayThree.weather[0].main}</div>\r\n        </li>\r\n\r\n        <li className=\"next-days\">\r\n          <div className=\"nd-date\">{day4}</div>\r\n          <div className=\"nd-temp\">{Math.round(dayFour.main.temp)}</div>\r\n          <div className=\"nd-weather\">{dayFour.weather[0].main}</div>\r\n        </li>\r\n\r\n        <li className=\"next-days\">\r\n          <div className=\"nd-date\">{day5}</div>\r\n          <div className=\"nd-temp\">{Math.round(dayFive.main.temp)}</div>\r\n          <div className=\"nd-weather\">{dayFive.weather[0].main}</div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NextDays;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\nimport Details from \"./components/Details\";\r\nimport Header from \"./components/Header\";\r\nimport NextDays from \"./components/NextDays\";\r\n\r\nconst App = () => {\r\n  const [data, setData] = useState({});\r\n  const [city, setCity] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [temp, setTemp] = useState(\"\");\r\n  const [weatherDesc, setWeatherDesc] = useState(\"\");\r\n  const [weatherMain, setWeatherMain] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [openSettings, setOpenSettings] = useState(false);\r\n  const [icon, setIcon] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [cityName, setCityName] = useState(\"\");\r\n\r\n  const ref = useRef();\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchAPI = async () => {\r\n      const CITY = cityName !== \"\" ? cityName : \"Manila\";\r\n      const API_KEY = \"9b463ab5faf898bca815b6b53d424a9d\";\r\n      const url = `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${API_KEY}&units=metric`;\r\n      try {\r\n        const res = await axios.get(url);\r\n        setData(res.data);\r\n        setCity(res.data.name);\r\n        setCountry(res.data.sys.country);\r\n        setTemp(res.data.main.temp);\r\n        setWeatherDesc(res.data.weather[0].description);\r\n        setWeatherMain(res.data.weather[0].main);\r\n        setIsLoading(false);\r\n        setIcon(\r\n          `https://openweathermap.org/img/wn/${res.data.weather[0].icon}.png`\r\n        );\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    //   console.log('data: ', data)\r\n    };\r\n    fetchAPI();\r\n\r\n  }, [cityName, city, data]);\r\n\r\n  useEffect(()=>{\r\n      const cityName = localStorage.getItem('cityName') ? localStorage.getItem('cityName') : ''\r\n      setCityName(cityName)\r\n  },[])\r\n\r\n  const handleToggle = () => {\r\n    setOpenSettings(!openSettings);\r\n    ref.current.focus();\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setCityName(value);\r\n    setOpenSettings(false);\r\n    setValue(\"\");\r\n    localStorage.setItem('cityName', value)\r\n  };\r\n\r\n  let dayOrNight;\r\n  const d = new Date();\r\n  const hour = d.getHours();\r\n  if (hour >= 4 && hour < 6) {\r\n    dayOrNight = \"day\";\r\n  } else {\r\n    dayOrNight = \"night\";\r\n  }\r\n\r\n  let weather;\r\n  if (\r\n    weatherMain === \"Clouds\" ||\r\n    weatherMain === \"Smoke\" ||\r\n    weatherMain === \"Mist\" ||\r\n    weatherMain === \"Haze\"\r\n  ) {\r\n    weather = \"cloudy\";\r\n  } else if (weatherMain === \"Rain\" || weatherMain === \"Snow\") {\r\n    weather = \"rain\";\r\n  } else if (weatherMain === \"Clear\") {\r\n    weather = \"clear\";\r\n  }\r\n\r\n  const background = `${process.env.PUBLIC_URL}/images/weather-${dayOrNight}-${weather}.png`;\r\n\r\n  let iClassName;\r\n  openSettings\r\n    ? (iClassName = \"fas fa-caret-up\")\r\n    : (iClassName = \"fas fa-caret-down\");\r\n\r\n  let divClassName;\r\n  openSettings ? (divClassName = \"form form-active\") : (divClassName = \"form\");\r\n\r\n  return (\r\n    <>\r\n      <div className=\"error\">\r\n        <div>\r\n          Use a mobile phone to view content. This app is for practice purposes\r\n          only.\r\n        </div>\r\n        <div>\r\n          <em>\r\n            Press F12 and then change device to any of the phone devices\r\n            available.\r\n          </em>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"background\"\r\n        style={{\r\n          backgroundImage: `url(${background})`,\r\n        }}\r\n      >\r\n        {isLoading ? (\r\n          <p>If the content is still not loading, the api key might be temporary blocked due to exceeding of requests limitation. If that's the case, please contact me at https://official-carledwardfp.github.io/portfolio/</p>\r\n        ) : (\r\n          <>\r\n            <div className=\"settings\">\r\n              <button onClick={handleToggle}>\r\n                <i className={iClassName} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className={divClassName}>\r\n              <form>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Change city\"\r\n                  value={value}\r\n                  onChange={handleChange}\r\n                  style={{\r\n                    width: 200,\r\n                    height: 30,\r\n                    border: \"none\",\r\n                    ontSize: \"1rem\",\r\n                    outline: \"none\",\r\n                    textAlign: \"center\",\r\n                    margin: 10,\r\n                    fontSize: 25,\r\n                    color: \"white\",\r\n                    backgroundColor: \"transparent\",\r\n                  }}\r\n                  ref={ref}\r\n                />\r\n                <button\r\n                  onClick={handleSubmit}\r\n                  type=\"submit\"\r\n                  style={{\r\n                    backgroundColor: \"#7070ff\",\r\n                    color: \"white\",\r\n                    border: \"none\",\r\n                    width: 200,\r\n                    height: 40,\r\n                    borderRadius: 5,\r\n                    padding: 10,\r\n                  }}\r\n                >\r\n                  <i className=\"fas fa-search-location\" />\r\n                </button>\r\n              </form>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n              <Header city={city} country={country} openSettings={openSettings} />\r\n              <Details temp={temp} weather={weatherDesc} icon={icon} />\r\n              <NextDays cityName={cityName}/>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}